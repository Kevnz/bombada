DGE.Audio=DGE.extend(DGE.Object,function(conf){if(conf===undefined)return;for(var k in DGE.Audio.initEvents){this.on(k,DGE.Audio.initEvents[k]);}
if(DGE.platform.name==DGE.platform.BROWSER){this._node=document.createElement('audio');if(this._node){DGE.stage._node.appendChild(this._node);}}
this.init(conf);});DGE.Audio.prototype.mute=function(mute){this.set('mute',(mute!==false));return this;};DGE.Audio.prototype.pause=function(){this._node.pause();return this;};DGE.Audio.prototype.play=function(){if(DGE.Audio.enabled)this._node.play();return this;};DGE.Audio.prototype.stop=function(){if(DGE.platform.name==DGE.platform.BROWSER){this._node.pause();this._node.currentTime=0;}else{this._node.stop();}
return this;};DGE.Audio._available=(function(){if(DGE.platform.name==DGE.platform.TITANIUM){return true;}else{var el=document.createElement('audio');return!!el;}})();DGE.Audio.enabled=true;DGE.Audio.initEvents={file:function(file){if(DGE.platform.name==DGE.platform.TITANIUM){this._node=Titanium.Media.createSound(file);}else{this._node.src=file;this._node.load();}},mute:function(mute){this._node.muted=mute;},volume:function(volume){this._node.volume=(volume/100);}};