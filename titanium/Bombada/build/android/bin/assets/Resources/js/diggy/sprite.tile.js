DGE.Tile=DGE.extend(DGE.Sprite,function(conf){if(conf)this.init.apply(this,[conf]);});DGE.Tile.prototype._tileX=0;DGE.Tile.prototype._tileY=0;DGE.Tile.prototype.isAdjacentTo=function(tile){return(((tile._tileX==this._tileX)&&((tile._tileY==(this._tileY-1))||(tile._tileY==(this._tileY+1))))||((tile._tileY==this._tileY)&&((tile._tileX==(this._tileX-1))||(tile._tileX==(this._tileX+1)))));};DGE.Sprite.prototype.setTileXY=function(tx,ty,x,y){if(typeof tx=='object'){x=arguments[0]._x;y=arguments[0]._y;ty=arguments[0]._tileY;tx=arguments[0]._tileX;}
this._x=((tx*this.tWidth)+(x||0));this._tileX=tx;this._y=((ty*this.tHeight)+(y||0));this._tileY=ty;return this.plot();};DGE.Tile.getByTXY=function(tx,ty,first){var found=[],objs=DGE.Sprite._objects;for(var i in objs){if((objs[i]._tileX==tx)&&(objs[i]._tileY==ty)){if(first)return objs[i];found.push(objs[i]);}}
return(found.length?found:null);};DGE.Tile.makeTileMap=function(Obj,width,height,conf){Obj=(Obj||DGE.Tile);var tiles=[],row,tx,ty;for(tx=0;tx<width;tx++){row=[];for(ty=0;ty<height;ty++){conf.tx=tx;conf.ty=ty;conf.width=(conf.width||DGE.TILE_WIDTH);conf.height=(conf.height||DGE.TILE_HEIGHT);row.push(new Obj(conf));}
tiles.push(row);}
return tiles;};DGE.Tile.TILE_WIDTH=0;DGE.Tile.TILE_HEIGHT=0;