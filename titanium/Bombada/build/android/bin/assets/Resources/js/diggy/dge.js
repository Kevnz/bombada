var DGE=(function(){var main;var set=function(attr,value){if(typeof(attr)=='object'){for(var i in attr){arguments.callee.apply(DGE,[i,attr[i]]);}
return DGE;}
switch(attr){case'baseURL':DGE.conf.baseURL=value;break;case'libsURL':DGE.conf.libsURL=value;break;case'interval':DGE.conf.interval=value;main.setDelay(value);break;case'stage':DGE.stage=new DGE.Sprite({addTo:false,id:value.id,width:value.width,height:value.height}).setCSS({background:(value.background||'#000'),overflow:'hidden',position:'relative'});DGE.STAGE_WIDTH=value.width;DGE.STAGE_HEIGHT=value.height;DGE.stage;break;default:throw new Error(DGE.printf('Unknown setting "%s"',attr));break;}
return DGE;}
return{init:function(conf){main=new DGE.Interval(DGE.Sprite.main);if(conf)set(conf);},main:function(fn){main.add(fn);},set:set,start:function(){main.start();},stop:function(){main.stop();}};})();DGE.addEvent=(document.addEventListener?function(el,e,fn){el.addEventListener(e,fn,false);}:function(el,e,fn){el.attachEvent('on'+e,fn);});DGE.attrMethod=function(that,change){var attr;return function(a){if(a===undefined)return attr;attr=a;if(change)change.apply(that,arguments);return that;};};DGE.dashToCamelCase=function(text){var camelCase='';for(var i=0;i<text.length;i++){if(text[i]=='-'){camelCase+=text[i+1].toUpperCase();i++;}else{camelCase+=text[i];}}
return camelCase;};DGE.debug=function(msg){switch(DGE.platform.name){case DGE.platform.BROWSER:try{console.log.apply(DGE,arguments);}catch(e){console.log(Array.prototype.join.apply(arguments,[',']));}
break;case DGE.platform.TITANIUM:Titanium.API.info.apply(DGE,arguments);break;}};DGE.exec=function(fn,ms,scope){var fire=function(){fn.apply(scope);};if(ms){setTimeout(fire,ms);}else{fire();}};DGE.execScript=function(src){var script=document.createElement('script');script.src=(DGE.conf.libsURL+src);document.getElementsByTagName('head')[0].appendChild(script);};DGE.extend=function(P,F){F.prototype=new P();return F;};DGE.eventMethod=function(that,change){var e;return function(fn){if(fn===undefined){if(e)e.apply(that);}else{e=fn;if(change)change.apply(that,arguments);}
return that;};};DGE.formatNumber=function(n){if(!n&&(n!==0))return'';var reverse=[];n=n.toString();for(var i=1;i<=n.length;i++){reverse.push(n[n.length-i]);if(!(i%3)&&(i<n.length))reverse.push(',');}
reverse=reverse.reverse();return reverse.join('');};DGE.getNode=function(el){if(typeof(el)=='object'){return el;}else{return document.getElementById(el);}};DGE.makeId=function(length){var str='';length=(length||10);for(var i=0;i<length;i++){str+=String.fromCharCode(DGE.rand(97,122));}
return str;};DGE.printf=function(str){for(var i=1;i<arguments.length;i++){str=str.replace(/%s/,arguments[i]);}
return str;};DGE.rand=function(from,to){if(from.length===undefined){return(from+Math.floor((to-from+1)*(Math.random()%1)));}else{return arguments.callee(0,(from.length-1));}};DGE.setCSS=function(el,style,value){if(typeof(style)=='object'){for(var i in style){arguments.callee(el,i,style[i]);}
return el;}
switch(style){case'float':el.style.cssFloat=value;el.style.styleFloat=value;return el;case'opacity':el.style.filter=DGE.printf('alpha(opacity=%s)',(value*100));el.style.opacity=value;return el;}
style=DGE.dashToCamelCase(style);el.style[style]=value;return el;};DGE.vibrate=function(){if(DGE.platform.name==DGE.platform.TITANIUM){Titanium.Media.vibrate();}};